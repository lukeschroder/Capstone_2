# Capstone 2

## Predicting US Energy Utility Revenues via Generation Portfolio Analysis
*Capstone II Project for Galvanize Data Science Immersive, Week 8*
 
*A Project by Luke Schroder*
## Learning Objectives
- Practice data pipelining from multiple, irregular sources
- Practice EDA
- Automate regression model selection and analysis
- Creating business recommendations from model analysis
## Table of Contents
- [Introduction](#Introduction)   
   - [Background and overview](#background-&-overview)
   - [The question](#the-question)
   - [Raw data](#raw-data)
   - [Data cleaning](#data-cleaning)
- [Exploratory Data Analysis](#Data-Cleaning-&-Exploratory-Data-Analysis)
   - [US energy landscape](#How-has-the-US-energy-landscape-changed)
   - [Top generation methods](#What-are-the-top-generation-methods)
   - [Addressing scaling](#Addressing-scaling)
- [Model Selection and Analysis](#Model-Selection-&-Analysis)
   - [Gradient boosted regression](#Gradient-Boosted-Regression)
   - [Important features](#Important-features)
- [Generation Portfolio Recommendations](#Generation-Portfolio-Recommendations)
  - [How to increase revenues](#How-to-increase-revenues)
- [Conclusion](#conclusion)
   - [Summary](#summary)
   - [Next steps](#next-steps)
 
# Introduction
## Background & overview:
Energy generation and sales in the United States is a complex and ever-changing industry. I wanted to create a project that demystifies a sample of the complex data from this industry while also providing insight into next steps energy utilities could take toward a future of growth.
 
## The question:
**What types of energy production lead to the greatest gross revenue?** Can we predict future revenues per MWh sold based on how much energy is generated by each type? 

## Raw data:
The data for this project is an aggregation of results from two yearly surveys of energy utilities conducted by The U.S. Energy Information Administration.

**EIA 860:** This survey provides generator level data from multiple plants across different utilities in the United States including capacity and generation technologies from 1990-2019 *(Naming and reporting conventions vary year to year).*

**EIA 861:** This survey contains Utility level data segmented into operational and sales data files by year from 1990-2019 *(Naming and reporting conventions vary year to year).*

## Data cleaning:
### Process flow:
The goal of this process was to aggregate the files into a dataset usable by machine learning algorithms.

The flow of this process is as follows:
| Process Step |                     Description                     |
|:------------:|:---------------------------------------------------:|
|       0       | Normalize naming conventions in features and data  |
|       1      |                Aggregate 860 by Year                |
|       2      | Join 861 Operational and Sales Data When Applicable |
|       3      |                Aggregate 861 by Year                |
|       4      |       Featurize 860, Groupby Utility and Year       |
| 5            | Join Aggregate 860 and 861 Datasets                 |

### Feature and data standardization:
The bulk of data cleansing took the form of standardizing the data across all years of survey results. A few examples of inconsistancies in the data are as follows:

- **Column names:** abbreviations/acronym changes
- **File types:** storage of the data in different file formats
- **Data encoding:** largely acronym changes
- **Reporting scale:** MWh and KWh scales were used
- **Sparse features:** many features were only reported for one or two years

### Feature Generation:
As mentioned above I took the EIA 860 generator level data and created new features for both the energy generation and percentage of portfolio by type for each utility. Along with generation portfolios I also split ownership types into encoded features (see below). These would later be one-hot encoded for model interpretability.
| Generation Type | Encoding |
|:---------------:|:--------:|
|       Coal      |     1    |
|   Natural Gas   |     2    |
|    Petrolium    |     3    |
| Hydroelectric   | 4        |
| Geothermal      | 5        |
| Wind            | 6        |
| Solar           | 7        |
| Nuclear         | 8        |
| Other         | 0        |

| Ownership Type | Encoding |
|:--------------:|:--------:|
|    Municipal   |     1    |
|   Cooperative  |     2    |
|     Private    |     3    |
|      Other     |     0    |

### Final product:

The Final dataset consisted of data for each utility by year with features outlining peak capacity (total, winter and summer), sales (in MWh), revenues, ownership type, percentage of generation from each type and MW generated at peak for each type.

**---------------------------------------------POSSIBLY PUT CLEANED ROW HERE---------------------------------------------------**

# Additional Data Cleaning & Exploratory Data Analysis
## How has the US energy landscape changed?


## What are the top generation methods?

 
## Addressing scaling:


# Model Selection & Analysis
## Gradient boosted regression:

## Important features:

# Generation Portfolio Recommendations
## How to increase revenues:

# Conclusion
## Summary:

## Next steps:
